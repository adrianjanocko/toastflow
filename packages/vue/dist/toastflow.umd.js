(function(i,w){typeof exports=="object"&&typeof module<"u"?w(exports,require("toastflow-core"),require("vue")):typeof define=="function"&&define.amd?define(["exports","toastflow-core","vue"],w):(i=typeof globalThis<"u"?globalThis:i||self,w(i.Toastflow={},i.toastflowCore,i.Vue))})(this,(function(i,w,t){"use strict";const j=Symbol("toast-store");let H=null;function I(e){H=e}function c(){if(!H)throw new Error("[vue-toastflow] Toast store not initialized. Did you install the plugin?");return H}const J={getState(){return c().getState()},subscribeEvents(e){return c().subscribeEvents(e)},show(e){return c().show(e)},loading(e,a){return c().loading(e,a)},update(e,a){return c().update(e,a)},dismiss(e){return c().dismiss(e)},dismissAll(){return c().dismissAll()},pause(e){return c().pause(e)},resume(e){return c().resume(e)},getConfig(){return c().getConfig()},toast(e){return c().show({...e,type:"default"})},success(e){return c().show({...e,type:"success"})},error(e){return c().show({...e,type:"error"})},info(e){return c().show({...e,type:"info"})},warning(e){return c().show({...e,type:"warning"})}};function Y(e={}){const a=w.createToastStore(e);return I(a),{install(d){d.provide(j,a)}}}const _={class:"tf-toast-progress"},tt=t.defineComponent({__name:"ToastProgress",props:{type:{}},setup(e){return(a,d)=>(t.openBlock(),t.createElementBlock("div",_,[t.createElementVNode("div",{class:t.normalizeClass(["tf-toast-progress-bar",`tf-toast-progress-bar--${e.type}`])},null,2)]))}}),u=(e,a)=>{const d=e.__vccOpts||e;for(const[m,h]of a)d[m]=h;return d},P=u(tt,[["__scopeId","data-v-ca0da064"]]),et={},nt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"};function ot(e,a){return t.openBlock(),t.createElementBlock("svg",nt,[...a[0]||(a[0]=[t.createElementVNode("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"},null,-1)])])}const D=u(et,[["render",ot]]),at={},st={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"};function lt(e,a){return t.openBlock(),t.createElementBlock("svg",st,[...a[0]||(a[0]=[t.createElementVNode("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z","clip-rule":"evenodd"},null,-1)])])}const F=u(at,[["render",lt]]),rt={},it={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"};function ct(e,a){return t.openBlock(),t.createElementBlock("svg",it,[...a[0]||(a[0]=[t.createElementVNode("path",{"fill-rule":"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z","clip-rule":"evenodd"},null,-1)])])}const R=u(rt,[["render",ct]]),dt={},ft={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"};function ut(e,a){return t.openBlock(),t.createElementBlock("svg",ft,[...a[0]||(a[0]=[t.createElementVNode("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"},null,-1)])])}const X=u(dt,[["render",ut]]),mt={},ht={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"};function pt(e,a){return t.openBlock(),t.createElementBlock("svg",ht,[...a[0]||(a[0]=[t.createElementVNode("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"},null,-1)])])}const q=u(mt,[["render",pt]]),gt={},yt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"};function kt(e,a){return t.openBlock(),t.createElementBlock("svg",yt,[...a[0]||(a[0]=[t.createElementVNode("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z","clip-rule":"evenodd"},null,-1)])])}const U=u(gt,[["render",kt]]),wt={},Ct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"};function bt(e,a){return t.openBlock(),t.createElementBlock("svg",Ct,[...a[0]||(a[0]=[t.createElementVNode("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"},null,-1)])])}const Q=u(wt,[["render",bt]]),Bt=["role","aria-live"],At=["aria-label"],Et={class:"tf-toast-surface"},$t={class:"tf-toast-main"},St={class:"tf-toast-body"},Tt={class:"tf-toast-text"},Mt=["aria-label"],Lt=["aria-label","innerHTML"],Vt=["aria-label"],xt=["aria-label","innerHTML"],Nt={key:0,class:"tf-toast-created-at"},Kt=["aria-label"],G=u(t.defineComponent({__name:"Toast",props:{toast:{},progressResetKey:{},duplicateKey:{},updateKey:{},bumpAnimationClass:{},clearAllAnimationClass:{},updateAnimationClass:{}},emits:["dismiss"],setup(e,{emit:a}){const d=a,m=t.inject(j,null);if(!m)throw new Error("[vue-toastflow] Plugin not installed");const h=m,p=t.ref(!1),g=t.ref(!1),C=t.ref(!1),y={success:{accent:"tf-toast-accent--success",icon:"tf-toast-icon--success",close:"tf-toast-close--success",component:D},error:{accent:"tf-toast-accent--error",icon:"tf-toast-icon--error",close:"tf-toast-close--error",component:F},warning:{accent:"tf-toast-accent--warning",icon:"tf-toast-icon--warning",close:"tf-toast-close--warning",component:R},info:{accent:"tf-toast-accent--info",icon:"tf-toast-icon--info",close:"tf-toast-close--info",component:X},default:{accent:"tf-toast-accent--default",icon:"tf-toast-icon--default",close:"tf-toast-close--default",component:q},loading:{accent:"tf-toast-accent--loading",icon:"tf-toast-icon--loading",close:"tf-toast-close--loading",component:U}},L=t.computed(function(){return K.has(e.toast.type)?"alert":"status"}),V=t.computed(function(){return K.has(e.toast.type)?"assertive":"polite"}),x=t.computed(function(){return y[e.toast.type].accent}),N=t.computed(function(){return y[e.toast.type].icon}),f=t.computed(function(){return y[e.toast.type].close}),S=t.computed(function(){return y[e.toast.type].component}),K=new Set(["error","warning"]),T=t.computed(function(){return{"--tf-toast-progress-duration":`${e.toast.duration}ms`}}),v=function(r){return new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},M=t.computed(function(){return!!(e.toast.showCreatedAt&&Number.isFinite(e.toast.createdAt))}),b=t.computed(function(){if(!M.value)return"";const r=typeof e.toast.createdAtFormatter=="function"?e.toast.createdAtFormatter:v;try{return r(e.toast.createdAt)}catch{return v(e.toast.createdAt)}}),B=t.computed(function(){return b.value?`Sent at ${b.value}`:""}),A=t.computed(function(){return n(e.toast.title)}),E=t.computed(function(){return n(e.toast.description)}),k=t.computed(function(){const r=[];return A.value&&r.push(A.value),E.value&&r.push(E.value),M.value&&B.value&&r.push(B.value),r.length||r.push(`${e.toast.type} notification`),r.join(". ")});function n(r){return r?l(r):""}function l(r){const $=o(r.replace(/<[^>]*>/g," "));if(typeof window>"u"||!window.document)return $;try{const O=window.document.createElement("div");return O.innerHTML=r,o(O.textContent??"")}catch{return $}}function o(r){return r.replace(/\s+/g," ").trim()}function s(){return{id:e.toast.id,position:e.toast.position,type:e.toast.type,title:e.toast.title,description:e.toast.description,createdAt:e.toast.createdAt}}function z(r){const $=s();e.toast.onClick&&e.toast.onClick($,r),e.toast.closeOnClick&&d("dismiss",e.toast.id)}function Z(){d("dismiss",e.toast.id)}function zt(){e.toast.pauseOnHover&&(p.value=!0,h.pause(e.toast.id))}function Zt(){e.toast.pauseOnHover&&(p.value=!1,h.resume(e.toast.id))}const W=t.ref(0);t.watch(()=>e.progressResetKey,function(){e.progressResetKey!=null&&(W.value+=1)}),t.watch(()=>e.duplicateKey,function(){e.duplicateKey!=null&&(W.value+=1,Wt())}),t.watch(()=>e.updateKey,function(){e.updateKey!=null&&Ot()});function Wt(){g.value=!1,requestAnimationFrame(function(){g.value=!0})}function Ot(){C.value=!1,requestAnimationFrame(function(){C.value=!0})}return(r,$)=>(t.openBlock(),t.createElementBlock("div",{role:L.value,"aria-live":V.value,class:"tf-toast-wrapper"},[t.createElementVNode("div",{class:t.normalizeClass(["tf-toast",[x.value,g.value&&e.toast.phase!=="leaving"&&e.toast.phase!=="clear-all"&&e.bumpAnimationClass,C.value&&e.toast.phase!=="leaving"&&e.toast.phase!=="clear-all"&&e.updateAnimationClass,e.toast.phase==="clear-all"&&e.clearAllAnimationClass,p.value&&"tf-toast--paused"]]),"aria-label":k.value||void 0,onClick:z,onMouseenter:zt,onMouseleave:Zt},[t.createElementVNode("div",Et,[t.createElementVNode("div",$t,[t.createElementVNode("div",{class:t.normalizeClass(["tf-toast-icon",N.value]),"aria-hidden":"true"},[t.renderSlot(r.$slots,"icon",{toast:e.toast},()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(S.value),{class:t.normalizeClass(["tf-toast-icon-svg",[e.toast.type==="loading"&&"tf-toast-icon-spin"]]),"aria-hidden":"true"},null,8,["class"]))],!0)],2),t.createElementVNode("div",St,[t.createElementVNode("div",Tt,[e.toast.title&&!e.toast.supportHtml?(t.openBlock(),t.createElementBlock("p",{key:0,"aria-label":A.value||void 0,class:"tf-toast-title"},t.toDisplayString(e.toast.title),9,Mt)):e.toast.title&&e.toast.supportHtml?(t.openBlock(),t.createElementBlock("p",{key:1,class:"tf-toast-title","aria-label":A.value||void 0,innerHTML:e.toast.title},null,8,Lt)):t.createCommentVNode("",!0),e.toast.description&&!e.toast.supportHtml?(t.openBlock(),t.createElementBlock("p",{key:2,"aria-label":E.value||void 0,class:"tf-toast-description"},t.toDisplayString(e.toast.description),9,Vt)):e.toast.description&&e.toast.supportHtml?(t.openBlock(),t.createElementBlock("p",{key:3,class:"tf-toast-description","aria-label":E.value||void 0,innerHTML:e.toast.description},null,8,xt)):t.createCommentVNode("",!0)]),t.renderSlot(r.$slots,"default",{toast:e.toast},void 0,!0),M.value?(t.openBlock(),t.createElementBlock("div",Nt,[t.renderSlot(r.$slots,"created-at",{toast:e.toast,formatted:b.value},()=>[t.createElementVNode("span",{"aria-label":B.value||void 0},t.toDisplayString(b.value),9,Kt)],!0)])):t.createCommentVNode("",!0)])]),e.toast.progressBar?(t.openBlock(),t.createElementBlock("div",{key:0,class:"tf-toast-progress-wrapper",style:t.normalizeStyle(T.value)},[t.renderSlot(r.$slots,"progress",{toast:e.toast},()=>[(t.openBlock(),t.createBlock(P,{key:W.value,type:e.toast.type},null,8,["type"]))],!0)],4)):t.createCommentVNode("",!0)]),e.toast.closeButton?(t.openBlock(),t.createElementBlock("button",{key:0,type:"button",class:t.normalizeClass(["tf-toast-close",f.value]),"aria-label":"Close notification",onClick:t.withModifiers(Z,["stop"])},[t.renderSlot(r.$slots,"close-icon",{toast:e.toast},()=>[t.createVNode(Q,{class:"tf-toast-close-icon","aria-hidden":"true"})],!0)],2)):t.createCommentVNode("",!0)],42,At)],8,Bt))}}),[["__scopeId","data-v-edee5727"]]),vt=["data-position"],Ht=u(t.defineComponent({__name:"ToastContainer",setup(e){const a=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],d=c(),m=t.ref([]),h=t.ref({}),p=t.ref({}),g=t.ref({});let C=null,y=null;t.onMounted(function(){C=d.subscribe(function(n){m.value=n.toasts}),y=d.subscribeEvents(function(n){n.kind==="timer-reset"&&(h.value[n.id]=Math.random()),n.kind==="duplicate"&&(p.value[n.id]=Math.random()),n.kind==="update"&&(g.value[n.id]=Math.random())})}),t.onUnmounted(function(){C&&C(),y&&y()});function L(n){return h.value[n]??0}function V(n){return p.value[n]??0}function x(n){return g.value[n]??0}const N=t.computed(function(){const n={"top-left":[],"top-center":[],"top-right":[],"bottom-left":[],"bottom-center":[],"bottom-right":[]};for(const l of m.value)n[l.position].push(l);return n}),f=d.getConfig(),S=t.ref({"top-left":{...f,position:"top-left"},"top-center":{...f,position:"top-center"},"top-right":{...f,position:"top-right"},"bottom-left":{...f,position:"bottom-left"},"bottom-center":{...f,position:"bottom-center"},"bottom-right":{...f,position:"bottom-right"}}),K=t.computed(function(){return m.value.length?Math.max(...m.value.map(n=>n.zIndex)):f.zIndex});function T(n){return S.value[n]??{...f,position:n}}function v(n){const{offset:l,width:o}=T(n),s={width:o,maxWidth:"100%"};return n.startsWith("top-")&&(s.top=l),n.startsWith("bottom-")&&(s.bottom=l),n.endsWith("left")?s.left=l:n.endsWith("right")?s.right=l:n.endsWith("center")&&(s.left="50%",s.transform="translateX(-50%)"),s}function M(n){return n.endsWith("left")?"tf-toast-stack--left":n.endsWith("center")?"tf-toast-stack--center":"tf-toast-stack--right"}function b(n){return n.startsWith("bottom-")?"tf-toast-stack-inner--bottom":null}function B(n){d.dismiss(n)}function A(n){const l=n,o=l.parentElement;if(!o||o.children.length<=1)return;const s=l.offsetTop,z=o.clientHeight,Z=o.clientWidth;o.style.minHeight=`${z}px`,l.style.position="absolute",l.style.width=`${Z}px`,l.style.left="0",l.style.right="0",l.style.top=`${s}px`}function E(n){const l=n,o=l.parentElement;o&&(o.style.minHeight=""),l.style.position="",l.style.width="",l.style.left="",l.style.right="",l.style.top=""}t.watch(m,function(n){const l=new Set(n.map(function(o){return o.id}));for(const o of Object.keys(h.value))l.has(o)||delete h.value[o];for(const o of Object.keys(p.value))l.has(o)||delete p.value[o];for(const o of Object.keys(g.value))l.has(o)||delete g.value[o]},{deep:!1});function k(n){return{...f.animation,...n.animation}}return t.watch(N,function(n){const l={...S.value};Object.keys(n).forEach(function(o){const s=n[o][0];s&&(l[o]={...f,...s,position:o,animation:{...f.animation,...s.animation}})}),S.value=l},{deep:!1}),(n,l)=>(t.openBlock(),t.createElementBlock("div",{class:"tf-toast-root",style:t.normalizeStyle({zIndex:K.value})},[(t.openBlock(),t.createElementBlock(t.Fragment,null,t.renderList(a,o=>t.createElementVNode("div",{key:o,class:t.normalizeClass(["tf-toast-stack",M(o)]),style:t.normalizeStyle(v(o))},[t.createVNode(t.TransitionGroup,{name:T(o).animation.name,onBeforeLeave:A,onAfterLeave:E,tag:"div",class:t.normalizeClass(["tf-toast-stack-inner",b(o)]),style:t.normalizeStyle({gap:T(o).gap})},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(N.value[o],s=>(t.openBlock(),t.createElementBlock("div",{key:s.id,class:"tf-toast-item",style:t.normalizeStyle({width:s.width,maxWidth:"100%"}),"data-position":s.position},[n.$slots.default?t.renderSlot(n.$slots,"default",{key:0,toast:s,progressResetKey:L(s.id),duplicateKey:V(s.id),updateKey:x(s.id),bumpAnimationClass:k(s).bump,clearAllAnimationClass:k(s).clearAll,updateAnimationClass:k(s).update,dismiss:B},void 0,!0):(t.openBlock(),t.createBlock(G,{key:1,toast:s,progressResetKey:L(s.id),duplicateKey:V(s.id),updateKey:x(s.id),bumpAnimationClass:k(s).bump,clearAllAnimationClass:k(s).clearAll,updateAnimationClass:k(s).update,onDismiss:B},null,8,["toast","progressResetKey","duplicateKey","updateKey","bumpAnimationClass","clearAllAnimationClass","updateAnimationClass"]))],12,vt))),128))]),_:2},1032,["name","class","style"])],6)),64))],4))}}),[["__scopeId","data-v-b00384d2"]]);i.ArrowPath=U,i.Bell=R,i.CheckCircle=D,i.InfoCircle=X,i.QuestionMarkCircle=q,i.Toast=G,i.ToastContainer=Ht,i.ToastProgress=P,i.XCircle=F,i.XMark=Q,i.createToastflow=Y,i.getToastStore=c,i.setToastStore=I,i.toast=J,Object.keys(w).forEach(e=>{e!=="default"&&!Object.prototype.hasOwnProperty.call(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:()=>w[e]})}),Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}));
